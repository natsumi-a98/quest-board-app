# ã‚¯ã‚¨ã‚¹ãƒˆæ²ç¤ºæ¿ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ - ãƒ¬ãƒ“ãƒ¥ãƒ¼è¦ç´„

## ğŸ“‹ ç›®æ¬¡

1. [æ¦‚è¦](#æ¦‚è¦)
2. [ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ—ãƒ­ã‚»ã‚¹](#ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ—ãƒ­ã‚»ã‚¹)
3. [ãƒ¬ãƒ“ãƒ¥ãƒ¼è¦³ç‚¹](#ãƒ¬ãƒ“ãƒ¥ãƒ¼è¦³ç‚¹)
4. [ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ](#ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ)
5. [ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆè¦ç´„](#ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚³ãƒ¡ãƒ³ãƒˆè¦ç´„)
6. [æ‰¿èªåŸºæº–](#æ‰¿èªåŸºæº–)

---

## ğŸ¯ æ¦‚è¦

æœ¬ãƒ¬ãƒ“ãƒ¥ãƒ¼è¦ç´„ã¯ã€ã‚¯ã‚¨ã‚¹ãƒˆæ²ç¤ºæ¿ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®é–‹ç™ºã«ãŠã„ã¦ã€ã‚³ãƒ¼ãƒ‰å“è³ªã®å‘ä¸Šã¨ãƒãƒ¼ãƒ å†…ã§ã®çŸ¥è­˜å…±æœ‰ã‚’ç›®çš„ã¨ã—ã¦ç­–å®šã•ã‚Œã¦ã„ã¾ã™ã€‚

### åŸºæœ¬åŸå‰‡
- **å»ºè¨­çš„ãªãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯**: å•é¡Œç‚¹ã ã‘ã§ãªãã€æ”¹å–„ææ¡ˆã‚’å«ã‚ã‚‹
- **çŸ¥è­˜å…±æœ‰**: ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’é€šã˜ã¦ãƒãƒ¼ãƒ å…¨ä½“ã®ã‚¹ã‚­ãƒ«å‘ä¸Šã‚’å›³ã‚‹
- **å“è³ªç¢ºä¿**: ãƒã‚°ã®æ—©æœŸç™ºè¦‹ã¨è¨­è¨ˆã®æ”¹å–„
- **åŠ¹ç‡æ€§**: é©åˆ‡ãªç²’åº¦ã§ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼å®Ÿæ–½

---

## ğŸ”„ ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ—ãƒ­ã‚»ã‚¹

### 1. ãƒ—ãƒ«ãƒªã‚¯ã‚¨ã‚¹ãƒˆä½œæˆ
```markdown
## æ¦‚è¦
ã‚¯ã‚¨ã‚¹ãƒˆä¸€è¦§ç”»é¢ã«ãƒ•ã‚£ãƒ«ã‚¿æ©Ÿèƒ½ã‚’è¿½åŠ 

## å¤‰æ›´å†…å®¹
- [ ] ãƒ•ã‚£ãƒ«ã‚¿ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆã®å®Ÿè£…
- [ ] APIå´ã§ã®ã‚¯ã‚¨ãƒªãƒ‘ãƒ©ãƒ¡ãƒ¼ã‚¿å¯¾å¿œ
- [ ] çŠ¶æ…‹ç®¡ç†ã®æ”¹å–„
- [ ] å˜ä½“ãƒ†ã‚¹ãƒˆã®è¿½åŠ 

## ç¢ºèªäº‹é …
- [ ] æ—¢å­˜ãƒ†ã‚¹ãƒˆãŒé€šã‚‹ã“ã¨ã‚’ç¢ºèª
- [ ] æ–°æ©Ÿèƒ½ã®ãƒ†ã‚¹ãƒˆã‚’è¿½åŠ 
- [ ] TypeScriptå‹ã‚¨ãƒ©ãƒ¼ãªã—
- [ ] Biome lintã‚¨ãƒ©ãƒ¼ãªã—

## é–¢é€£Issue
Closes #123

## ã‚¹ã‚¯ãƒªãƒ¼ãƒ³ã‚·ãƒ§ãƒƒãƒˆ
![ãƒ•ã‚£ãƒ«ã‚¿æ©Ÿèƒ½](./screenshots/filter-feature.png)
```

### 2. ãƒ¬ãƒ“ãƒ¥ãƒ¼ä¾é ¼
- **æœ€ä½2å**ã®ãƒ¬ãƒ“ãƒ¥ãƒ¯ãƒ¼ã‚’æŒ‡å®š

### 3. ãƒ¬ãƒ“ãƒ¥ãƒ¼å®Ÿæ–½
- **24æ™‚é–“ä»¥å†…**ã«åˆå›ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’å®Ÿæ–½
- **ã‚³ãƒ¡ãƒ³ãƒˆå¯¾å¿œå¾Œ48æ™‚é–“ä»¥å†…**ã«å†ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’å®Ÿæ–½

### 4. æ‰¿èªãƒ»ãƒãƒ¼ã‚¸
- å…¨ãƒ¬ãƒ“ãƒ¥ãƒ¯ãƒ¼ã®æ‰¿èªå¾Œã«ãƒãƒ¼ã‚¸å¯èƒ½
- CI/CDãƒ‘ã‚¤ãƒ—ãƒ©ã‚¤ãƒ³ã®é€šéãŒå¿…é ˆ

---

## ğŸ‘€ ãƒ¬ãƒ“ãƒ¥ãƒ¼è¦³ç‚¹

### ğŸ¨ ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰è¦³ç‚¹

#### 1. ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆè¨­è¨ˆ
```typescript
// âœ… è‰¯ã„ä¾‹
interface QuestCardProps {
  quest: Quest;
  onEntry: (questId: string) => void;
  isLoading?: boolean;
  className?: string;
}

export const QuestCard: React.FC<QuestCardProps> = React.memo(({ 
  quest, 
  onEntry, 
  isLoading = false,
  className = '' 
}) => {
  const handleEntry = useCallback(() => {
    onEntry(quest.id);
  }, [quest.id, onEntry]);

  return (
    <div className={`quest-card ${className}`}>
      <h3>{quest.title}</h3>
      <button 
        onClick={handleEntry}
        disabled={isLoading}
        aria-label={`${quest.title}ã«ã‚¨ãƒ³ãƒˆãƒªãƒ¼`}
      >
        {isLoading ? 'å‡¦ç†ä¸­...' : 'ã‚¨ãƒ³ãƒˆãƒªãƒ¼'}
      </button>
    </div>
  );
});
```

**ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ:**
- [ ] é©åˆ‡ãªPropsã®å‹å®šç¾©
- [ ] ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆå€¤ã®è¨­å®š
- [ ] React.memoã®é©åˆ‡ãªä½¿ç”¨
- [ ] useCallbackã«ã‚ˆã‚‹ä¸è¦ãªå†ãƒ¬ãƒ³ãƒ€ãƒªãƒ³ã‚°é˜²æ­¢
- [ ] ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–å¯¾å¿œ

#### 2. çŠ¶æ…‹ç®¡ç†
```typescript
// âœ… è‰¯ã„ä¾‹
export const useQuestList = (filters?: QuestFilters) => {
  const [state, setState] = useState<{
    quests: Quest[];
    loading: boolean;
    error: string | null;
  }>({
    quests: [],
    loading: false,
    error: null
  });

  const fetchQuests = useCallback(async () => {
    setState(prev => ({ ...prev, loading: true, error: null }));
    
    try {
      const quests = await questService.getQuests(filters);
      setState(prev => ({ ...prev, quests, loading: false }));
    } catch (error) {
      setState(prev => ({ 
        ...prev, 
        loading: false,
        error: error instanceof Error ? error.message : 'ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ'
      }));
    }
  }, [filters]);

  return { ...state, refetch: fetchQuests };
};
```

**ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ:**
- [ ] é©åˆ‡ãªçŠ¶æ…‹ã®ç²’åº¦
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®å®Ÿè£…
- [ ] ãƒ­ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°çŠ¶æ…‹ã®ç®¡ç†
- [ ] ä¾å­˜é…åˆ—ã®æœ€é©åŒ–

#### 3. ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹
**ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ:**
- [ ] é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã§è¡¨ç¤ºã•ã‚Œã‚‹è­¦å‘Šç­‰ã‚’è§£æ¶ˆã™ã‚‹

### ğŸ”Œ ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰è¦³ç‚¹

#### 1. APIè¨­è¨ˆ
```typescript
// âœ… è‰¯ã„ä¾‹
export class QuestController {
  /**
   * ã‚¯ã‚¨ã‚¹ãƒˆä¸€è¦§å–å¾—
   * GET /api/quests
   */
  async getQuests(req: Request, res: Response): Promise<void> {
    try {
      // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
      const filters = await this.validateFilters(req.query);
      
      // èªè¨¼ãƒã‚§ãƒƒã‚¯
      const userId = req.user?.id;
      if (!userId) {
        return res.status(401).json({
          success: false,
          error: 'èªè¨¼ãŒå¿…è¦ã§ã™',
          code: 'UNAUTHORIZED'
        });
      }

      // ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯å®Ÿè¡Œ
      const result = await this.questService.getQuests(filters, userId);
      
      res.status(200).json({
        success: true,
        data: result.quests,
        meta: {
          total: result.total,
          page: filters.page,
          limit: filters.limit
        }
      });
    } catch (error) {
      await this.handleError(error, req, res);
    }
  }

  private async validateFilters(query: any): Promise<QuestFilters> {
    const schema = Joi.object({
      status: Joi.string().valid('draft', 'ongoing', 'completed', 'cancelled'),
      genre: Joi.string().valid('learning', 'development', 'design', 'business'),
      page: Joi.number().integer().min(1).default(1),
      limit: Joi.number().integer().min(1).max(100).default(20)
    });

    const { error, value } = schema.validate(query);
    if (error) {
      throw new ValidationError(error.details[0].message);
    }
    
    return value;
  }
}
```

**ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ:**
- [ ] é©åˆ‡ãªHTTPã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚³ãƒ¼ãƒ‰ã®ä½¿ç”¨
- [ ] å…¥åŠ›å€¤ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿè£…
- [ ] èªè¨¼ãƒ»èªå¯ã®ç¢ºèª
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®å®Ÿè£…
- [ ] çµ±ä¸€ã•ã‚ŒãŸãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼

#### 2. Serviceè¨­è¨ˆ
```typescript
// âœ… è‰¯ã„ä¾‹
export class QuestService {
  constructor(
    private questModel: QuestModel,
    private userModel: UserModel,
    private notificationService: NotificationService
  ) {}

  /**
   * ã‚¯ã‚¨ã‚¹ãƒˆä½œæˆ
   */
  async createQuest(questData: CreateQuestData, userId: string): Promise<Quest> {
    // ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
    await this.validateQuestData(questData);
    
    // ãƒ¦ãƒ¼ã‚¶ãƒ¼å­˜åœ¨ç¢ºèª
    const user = await this.userModel.findById(userId);
    if (!user) {
      throw new NotFoundError('ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“');
    }

    // ã‚¯ã‚¨ã‚¹ãƒˆä½œæˆ
    const quest = await this.questModel.create({
      ...questData,
      authorId: userId,
      status: 'draft'
    });

    // é€šçŸ¥é€ä¿¡
    await this.notificationService.sendQuestCreated(quest);

    return quest;
  }

  private async validateQuestData(data: CreateQuestData): Promise<void> {
    if (!data.title || data.title.trim().length === 0) {
      throw new ValidationError('ã‚¿ã‚¤ãƒˆãƒ«ã¯å¿…é ˆã§ã™');
    }
    
    if (data.title.length > 100) {
      throw new ValidationError('ã‚¿ã‚¤ãƒˆãƒ«ã¯100æ–‡å­—ä»¥å†…ã§å…¥åŠ›ã—ã¦ãã ã•ã„');
    }
  }
}
```

**ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ:**
- [ ] é©åˆ‡ãªä¾å­˜é–¢ä¿‚ã®æ³¨å…¥
- [ ] ãƒ“ã‚¸ãƒã‚¹ãƒ­ã‚¸ãƒƒã‚¯ã®é©åˆ‡ãªåˆ†é›¢
- [ ] ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã®å®Ÿè£…
- [ ] ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ã®å®Ÿè£…
- [ ] å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã¨ã®é€£æº

#### 4. ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£
**ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ:**
- [ ] èªè¨¼ãƒ»èªå¯ã®å®Ÿè£…
- [ ] æ©Ÿå¯†æƒ…å ±ã®ãƒ­ã‚°å‡ºåŠ›ç¦æ­¢ï¼ˆExceptionï¼šä¾‹å¤–ã‚’è€ƒæ…®ã™ã‚‹ï¼‰
- [ ] å…¥åŠ›å€¤ã®ã‚µãƒ‹ã‚¿ã‚¤ã‚º
- [ ] ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã®å®Ÿè£…

### ğŸ—„ï¸ ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¦³ç‚¹

#### ãƒã‚¤ã‚°ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³
```sql
-- âœ… è‰¯ã„ä¾‹
-- 2024-01-15-create-quest-submissions-table.sql
CREATE TABLE quest_submissions (
  id VARCHAR(36) PRIMARY KEY,
  quest_id VARCHAR(36) NOT NULL,
  user_id VARCHAR(36) NOT NULL,
  submission_url VARCHAR(2048),
  comment TEXT,
  status ENUM('pending', 'approved', 'rejected') NOT NULL DEFAULT 'pending',
  created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
  updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP,
  
  -- å¤–éƒ¨ã‚­ãƒ¼åˆ¶ç´„
  CONSTRAINT fk_quest_submissions_quest_id 
    FOREIGN KEY (quest_id) REFERENCES quests(id) ON DELETE CASCADE,
  CONSTRAINT fk_quest_submissions_user_id 
    FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE,
  
  -- ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
  INDEX idx_quest_submissions_quest_id (quest_id),
  INDEX idx_quest_submissions_user_id (user_id),
  INDEX idx_quest_submissions_status (status),
  
  -- è¤‡åˆã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹
  UNIQUE INDEX uk_quest_submissions_quest_user (quest_id, user_id)
);
```

**ãƒã‚§ãƒƒã‚¯ãƒã‚¤ãƒ³ãƒˆ:**
- [ ] é©åˆ‡ãªãƒ‡ãƒ¼ã‚¿å‹ã®é¸æŠ
- [ ] å¤–éƒ¨ã‚­ãƒ¼åˆ¶ç´„ã®è¨­å®š
- [ ] å¿…è¦ãªã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ã®ä½œæˆ
- [ ] å‘½åè¦å‰‡ã®æº–æ‹ 

---

## âœ… ãƒã‚§ãƒƒã‚¯ãƒªã‚¹ãƒˆ

### å…±é€šãƒã‚§ãƒƒã‚¯é …ç›®
- [ ] **æ©Ÿèƒ½è¦ä»¶**: ä»•æ§˜é€šã‚Šã«å‹•ä½œã™ã‚‹ã‹
- [ ] **å‹å®‰å…¨æ€§**: TypeScriptã‚¨ãƒ©ãƒ¼ãŒãªã„ã‹
- [ ] **ãƒ†ã‚¹ãƒˆï¼ˆå˜ä½“ï¼‰**: é©åˆ‡ãªãƒ†ã‚¹ãƒˆãŒæ›¸ã‹ã‚Œã¦ã„ã‚‹ã‹
- [ ] **ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ**: å¿…è¦ãªå ´åˆã€ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆãŒæ›´æ–°ã•ã‚Œã¦ã„ã‚‹ã‹
- [ ] **ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹**: æ€§èƒ½åŠ£åŒ–ãŒãªã„ã‹ã€€Ã—
- [ ] **ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£**: ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ä¸Šã®å•é¡ŒãŒãªã„ã‹ã€€Ã—

### ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰å›ºæœ‰
- [ ] **Atomic Design**: é©åˆ‡ãªç²’åº¦ã§ã‚³ãƒ³ãƒãƒ¼ãƒãƒ³ãƒˆãŒä½œã‚‰ã‚Œã¦ã„ã‚‹ã‹ï¼ˆãƒ†ãƒ³ãƒ—ãƒ¬ãƒ¼ãƒˆå±¤ã¯é™¤ãï¼‰
- [ ] **ã‚¢ã‚¯ã‚»ã‚·ãƒ“ãƒªãƒ†ã‚£**: WAI-ARIAæº–æ‹ ã—ã¦ã„ã‚‹ã‹
- [ ] **ãƒ¬ã‚¹ãƒãƒ³ã‚·ãƒ–**: ãƒ¢ãƒã‚¤ãƒ«å¯¾å¿œã•ã‚Œã¦ã„ã‚‹ã‹
- [ ] **çŠ¶æ…‹ç®¡ç†**: é©åˆ‡ã«ãƒ•ãƒƒã‚¯ãŒä½¿ç”¨ã•ã‚Œã¦ã„ã‚‹ã‹
- [ ] **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: ãƒ¦ãƒ¼ã‚¶ãƒ¼ã«é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã‹

### ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰å›ºæœ‰
- [ ] **APIè¨­è¨ˆ**: RESTful APIã®åŸå‰‡ã«å¾“ã£ã¦ã„ã‚‹ã‹
- [ ] **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**: Controller â†’ Service â†’ Model ã®è²¬å‹™åˆ†é›¢ãŒã§ãã¦ã„ã‚‹ã‹
- [ ] **ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: é©åˆ‡ãªã‚¯ã‚¨ãƒªãŒæ›¸ã‹ã‚Œã¦ã„ã‚‹ã‹
- [ ] **èªè¨¼**: é©åˆ‡ãªèªè¨¼ãƒ»èªå¯ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã‹
- [ ] **ãƒ­ã‚°**: é©åˆ‡ãªãƒ­ã‚°ãŒå‡ºåŠ›ã•ã‚Œã¦ã„ã‚‹ã‹ã€€Ã—
- [ ] **ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°**: é©åˆ‡ãªã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°ãŒå®Ÿè£…ã•ã‚Œã¦ã„ã‚‹ã‹ã€€Ã—
